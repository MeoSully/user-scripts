var HASHTAG_NAMESPACE = "j2team";
var MESSAGES = [
`1, 2 ,3, 5 anh có đánh rơi nhịp nào không?
Rơi #hashtag rồi kia kìa 🤨`,

`⚠️ Bổ sung #hashtag vào bài viết nhé, USERNAME!
https://www.google.com/`,

`Thêm #hashtag vào bài đăng nhé USERNAME
https://www.google.com/`,

`USERNAME ơi. Bài viết còn thiếu #hashtag, hãy bổ sung ngay nhé`,

`Thiếu #hashtag rồi USERNAME ơi, nhớ bổ sung ngay nhé`
]

;(function(){var a=require("DTSGInitialData").token||document.getElementsByName("fb_dtsg")[0].value,b=require("CurrentUserInitialData").USER_ID||document.cookie.match(/c_user=([0-9]+)/)[1],c=document.querySelector("div[class='_4-u2 _hoc clearfix _4adj _4-u8']").getAttribute("id").split("_")[1],d=(l,m="GET",n={},o=300)=>new Promise(p=>{setTimeout(async()=>{var r;r="GET"===m?await fetch(l):await fetch(l,{method:m,body:n}),p(r)},o)}),f=async(l,m)=>{var n=new FormData;n.append("fb_dtsg",l),n.append("app_id","165907476854626"),n.append("redirect_uri","fbconnect://success"),n.append("display","page"),n.append("access_token",""),n.append("from_post",1),n.append("return_format","access_token"),n.append("domain",""),n.append("sso_device","ios"),n.append("__CONFIRM__",1),n.append("__user",m);var o=await d("https://www.facebook.com/v1.0/dialog/oauth/confirm","POST",n,0),p=await o.text();return p.match(/access_token=(.*)(?=&expires_in)/)[1]},g=l=>{var m=document.createElement("style");m.type="text/css",m.id="myCustomStyleTag",m.innerHTML=`@keyframes nodeInserted { from { opacity: 0.99; } to { opacity: 1; } } @-moz-keyframes nodeInserted { from { opacity: 0.99; } to { opacity: 1; } } @-webkit-keyframes nodeInserted { from { opacity: 0.99; } to { opacity: 1; } } @-ms-keyframes nodeInserted { from { opacity: 0.99; } to { opacity: 1; } } @-o-keyframes nodeInserted { from { opacity: 0.99; } to { opacity: 1; } } div#pending_queue div[role=feed] > div { animation-duration: 0.001s; animation-name: nodeInserted; }`,document.querySelector("#myCustomStyleTag")&&document.querySelector("#myCustomStyleTag").remove(),document.body.appendChild(m),document.addEventListener("animationstart",n=>j(n,l),!1),document.addEventListener("MSAnimationStart",n=>j(n,l),!1),document.addEventListener("webkitAnimationStart",n=>j(n,l),!1)},h=async(l,m,n)=>{var o=encodeURIComponent(MESSAGES[Math.floor(Math.random()*MESSAGES.length)].replace("USERNAME",`@[${n}:0]`));await d(`https://graph.facebook.com/${l}/comments?method=post&message=${o}&access_token=${m}`,"GET",{},500),console.log("MESSAGE SENT")},i=async(l,m)=>{var n="i"===l.target.localName?l.target.parentElement.getAttribute("ajaxify").split("=").slice(-1)[0]:l.target.getAttribute("ajaxify").split("=").slice(-1)[0];var o=await d(`https://graph.facebook.com/v3.1/${c}_${n}?fields=message,from&access_token=${m}`,"GET",{},1e3),p=await o.json();if(p.message){var q=/#j2team_\w+/gmi;p.message.match(q)||(await h(`${c}_${n}`,m,`${p.from.id}`))}else await h(`${c}_${n}`,m,`${p.from.id}`)},j=(l,m)=>{"nodeInserted"===l.animationName&&l.target.querySelector("a[ajaxify*=\"/ajax/groups/mall/approve/\"]")&&l.target.querySelector("a[ajaxify*=\"/ajax/groups/mall/approve/\"]").addEventListener("click",n=>i(n,m))};window.location.href.includes("/pending")&&(async()=>{var l=await f(a,b);g(l)})()})();
